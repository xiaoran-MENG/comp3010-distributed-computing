<!DOCTYPE html>
<html>
<head>
    <title>3010-eeter</title>
</head>
<body>
    <h1>Welcome to 3010-eeter</h1>
    <h2>Log In</h2>
    <div>
        <input id="username" type="text" placeholder="username" />
        <input id="password" type="password" placeholder="password" />
        <button>Submit</button>
    </div>
    <h2>Tweets</h2>
    <ul id="dashboard"></ul>
    <button type="button" onclick="onSignin()">Click</button>
    <script>
        function onSignin() {
            const req = new XMLHttpRequest()
            req.addEventListener('load', function() {
                JSON.parse(req.responseText).forEach(o => {
                    const li = document.createElement('li')
                    li.innerText = o['content']
                    document.getElementById('dashboard').appendChild(li)
                })
            })
            req.open('GET', 'http://localhost:8080/tweets')
            req.setRequestHeader("Accept","application/json");
            req.withCredentials = true;
            req.send();
        }
    </script>
</body>
</html>